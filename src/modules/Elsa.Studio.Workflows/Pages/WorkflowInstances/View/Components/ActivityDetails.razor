@using Elsa.Api.Client.Extensions
<MudTabs Elevation="0" ApplyEffectsToContainer="true">

    <MudTabPanel Text="Activity">
        <div style="@($"max-height: {VisiblePaneHeight}px; overflow-y: scroll;")">
            @{
                var activity = Activity;
                var activityId = activity.GetId();
                var activityName = activity.GetName();
                var activityType = activity.GetTypeName();
                var activityVersion = activity.GetVersion();
                
                var activityInfo = new Dictionary<string, string?>
                {
                    ["ID"] = activityId,
                    ["Name"] = activityName,
                    ["Type"] = activityType,
                    // ["Version"] = record.ActivityTypeVersion.ToString(),
                    // ["Instance ID"] = record.ActivityInstanceId,
                    // ["Source"] = record.Source,
                };

                // var activityState = record.ActivityState!
                //     .Where(x => !x.Key.StartsWith("_"))
                //     .ToDictionary(x => x.Key, x => x.Value?.ToString());
            }

            <div class="pa-4">
                <MudStack>
                    <div>
                        <MudText Typo="Typo.overline" GutterBottom="true" Align="Align.Left">Activity</MudText>
                        <DataPanel Data="activityInfo" HideEmptyValues="true"/>
                    </div>

                    @* @if (activityState.Any()) *@
                    @* { *@
                    @*     <div> *@
                    @*         <MudText Typo="Typo.overline" GutterBottom="true" Align="Align.Left">State</MudText> *@
                    @*         <DataPanel Data="@activityState" HideEmptyValues="true"/> *@
                    @*     </div> *@
                    @* } *@
                </MudStack>
            </div>
            
        </div>
    </MudTabPanel>
</MudTabs>